# .github/workflows/dependency-scan.yml
name: Dependency Security

on:
  workflow_dispatch:  # Manual only - for portfolio demo

jobs:
  scan:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Check Dependencies
        working-directory: ./project-3-devsecops-pipeline
        run: |
          echo "ðŸ” Checking Python dependencies..."
          
          # Check if Flask is the only dependency
          if grep -q "Flask" app/requirements.txt; then
            echo "âœ… Found Flask in requirements.txt"
            echo "Dependencies are minimal and secure"
          else
            echo "âš ï¸  Unexpected dependencies found"
            cat app/requirements.txt
          fi
          
          echo "## ðŸ“¦ Dependency Check Complete" >> $GITHUB_STEP_SUMMARY
          echo "Project-3 uses minimal dependencies for security." >> $GITHUB_STEP_SUMMARY