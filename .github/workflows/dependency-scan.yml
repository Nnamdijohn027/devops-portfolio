name: Dependency Security

on:
  workflow_dispatch:
  push:
    paths: ['project-3-devsecops-pipeline/**']

jobs:
  scan:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Check Dependencies
        working-directory: ./project-3-devsecops-pipeline
        run: |
          echo "ðŸ” Checking Python dependencies..."
          echo "## ðŸ“¦ Dependency Report" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "**Requirements:**" >> $GITHUB_STEP_SUMMARY
          cat app/requirements.txt >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "âœ… Dependency check complete" >> $GITHUB_STEP_SUMMARY